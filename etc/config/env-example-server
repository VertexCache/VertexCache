###################################################################################################
# VertexCache Server
#
# WHAT IS THIS:
#   - Default ENV file (one 1 file)
#
# NOTE:
#   - This file is for development/testing only.
#   - Below you will see clustering settings first because it makes a key difference if clustering is enabled or not
#   - If cluster_enabled=false, then you can IGNORE all the clustering configurations and scroll down to
#     "General Server Settings"
#
# WARNING:
#   - DO NOT use default settings in production, specifically referring to the Public/Private
#     Keys and certificates. This her for ease so one can get VertexCache up an running
#     fast as possible.
#
# MORE DOCUMENTATION:
#   - https://github.com/vertexcache/VertexCache/wiki
#
#
# CLUSTER CONFIGURATION:
#   - Each node uses this same file and sets `CLUSTER_NODE_ID=node-a|node-b|node-c` at launch.
#   - The REPLACE_ME below indicates which node are we starting: node-a, node-b, or node-c
#
###################################################################################################
cluster_enabled=true
cluster_node_id=node-a

#######################################
# Cluster Topology Declaration
#######################################

# PRIMARY
cluster_node.node-a.role=primary
cluster_node.node-a.host=localhost
cluster_node.node-a.port=50505
cluster_node.node-a.enabled=true

# ACTIVE SECONDARY (auto-promotable)
cluster_node.node-b.role=secondary
cluster_node.node-b.host=localhost
cluster_node.node-b.port=50506
cluster_node.node-b.enabled=true

# STANDBY SECONDARY (manual failover only)
cluster_node.node-c.role=secondary
cluster_node.node-c.host=localhost
cluster_node.node-c.port=50507
cluster_node.node-c.enabled=false

#######################################
# Cluster Coordination Settings (Shared)
#######################################

cluster_failover_enabled=true
cluster_failover_check_interval_ms=2000
cluster_failover_backoff_jitter_ms=500


#####################################################
# General Server Settings
#####################################################
enable_verbose=true
server_port=50505


#####################################################
# Runtime Shared Settings (Must Match/Exact same
# config for all Nodes for clustering to work.
#####################################################

#####################################################
# Cache Settings
#
#  Cache Types
#    NONE - No Eviction applied, unbound your limit
#           will be the available memory
#    LRU - Least Recently Used
#    MRU - Most Recently Used
#    FIFO - First In and First Out
#    LFU - Least Frequently Used
#    RANDOM - Random
#    ARC - Adaptive Replacement Cache
#    2Queue - Two Queues
#    Clock - Clock (or Clock-Pro)
#    TinyLFU - Tiny Least Frequently Used
#####################################################
cache_eviction=LRU
cache_size=1000000


#####################################################
# Message Encryption (RSA/AES)
#####################################################
enable_encrypt_message=true

# RSA Private Key (RSA) - File Path (Option 1)
#private_key=./vertex-cache-config/server/test_private_key.pem

# RSA Private Key (RSA) - Embedded Single Line (Option 2)
private_key="-----BEGIN PRIVATE KEY-----\nMIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCfDAo3YzueImP5\nV3T7D1BvDmDDlPMBbDY9QGXmud6mCflCsua9DSzhqgMvokayfLH4alKjpSaSu9eS\nc5tb4AhTOwctztsV72p7+6tK+AsrNOGX2Rv8o3g254NUn6zfewMD3P6tED36yOnw\n9zZhyaYbM3WULbYoz6g9LEdC9FxPl1Du7o0aDulfzUMnVmwJdF4Te8agJBHImhE9\n0sDnihE3ALzb/Eqb1xF+CGNEqq+eSalLcV8KPSws/LhbsBEFZT5FuFTRSZ1S60Hc\nJ7Ut8ijoOmZ+GAcnU/XJ3/SJzyp+SqO/BSjFFSFHn51YhqQDwplhD3mA/qhrCZeK\n7Y9w95UTAgMBAAECggEATLx+YWLbbNyi57aulkM5R5vkS/kdld4j/UGI6N1c8zd0\nsB2o/iXRNb/VcbIV8h//rh9+Z75S8hD3XY2xs45P9fhQ6mUXh2nQMqmmZ7Ftkhcd\nkSoLOsWURslEsBuqSNkNB1wk9FMV1F4DoWNlNaEZJ56YaDn13ZLzVTB74W4M68kO\n7utITED6VKtDvbxCvMRfoig6qT3nk6FTZc+Sx9hiZEh/6+oIj0RScM/nmTAJp2Q5\nuN+TMkeRhft7K7pXoiG5O4W24hSmyXE5+TnPlrfvVn1kVmrPrsyfji4joHtwDkqF\n0CuS8v2jPgfrTQ9h56G2fyRFPYtyZr0GGWHCn035AQKBgQDYZ9Ts7X15oQi+GMn2\nrK5V2D7XZqbgu+xWmbcFfAeR4gjpz0zHxZ/DBtVgrUcDqpcGCpaor573QulbPHEV\nSj/PKr58SlbLIh0tdvi0C/Op2upDjG1Hk9W8rY0AjpD67bkHdo4x6xzh30MjzqDK\nPB0REjHodajvJTbhxgx1lCAWswKBgQC8JZrIG6ctkfeFqf6cNy6p15/MRQu1npif\nSHfkz+iexZxN0OuUo0SaTRSQt+gJax3rM/Rs03RupLtuKalfLiIBoq0CmKqpRaDP\njuWMtLuCJCuuVCfEpcFm6X+57VM7PdZ1j8vy0KNhzYFJBMaLD5uz5AnuKud8sid0\nI3GA92y4IQKBgFOOA5BXQhMsMgvz1kb/9W//xoO0hspOxLnLL/dWJDYXaAmemK6p\nhz3t7YUeYkTwIM+cVv9aj644j5FCjQcDXA/JGTM0IL7dtRZQ0UXzN2lltP3PwoHY\nerYW7FJCuYepMb/H7q8ncEdlxK6WoU50V2S3+b0fcNKlM8OIjFb5kkoxAoGAJMl9\ngA7YGzLlIL9iRw0LFK5SUlBVv8cotEwpFRYJt7GPpC9rQH7D1R+pG7q5pc3J5ckc\ny4J0y4VuGFYRBckxYPx7s3xCMiKpFKwt+dsEpqeH2ugddneqXwLctG/QzE6E9iuN\nhwaAS4kw9CP45gvBN+Uog+bjqB/1UuHzOXInUcECgYBy/Ll8X0VzLjeI4qIe9c2a\nMjnM+H5Cu+qGkTFQv/9tFfhhlj+lbR8O2exVTBpSCiOIkTEQm/clOLnMF+j90uAo\n6hgtLo0W0eIJ3aghcLeHQ8dHWcdEUlzob677i4oVJMKF8mcujMbVVHS/3mLtRE9A\nyEBBVcw6Ds4FKy8VNWOEFQ==\n-----END PRIVATE KEY-----"

# Used for Clusters
#public_key=./vertex-cache-config/console/test_public_key.pem

# Public Key (RSA) - Embedded Single Line (Option 2)
public_key="-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAnwwKN2M7niJj+Vd0+w9Q\nbw5gw5TzAWw2PUBl5rnepgn5QrLmvQ0s4aoDL6JGsnyx+GpSo6UmkrvXknObW+AI\nUzsHLc7bFe9qe/urSvgLKzThl9kb/KN4NueDVJ+s33sDA9z+rRA9+sjp8Pc2Ycmm\nGzN1lC22KM+oPSxHQvRcT5dQ7u6NGg7pX81DJ1ZsCXReE3vGoCQRyJoRPdLA54oR\nNwC82/xKm9cRfghjRKqvnkmpS3FfCj0sLPy4W7ARBWU+RbhU0UmdUutB3Ce1LfIo\n6DpmfhgHJ1P1yd/0ic8qfkqjvwUoxRUhR5+dWIakA8KZYQ95gP6oawmXiu2PcPeV\nEwIDAQAB\n-----END PUBLIC KEY-----"



# AES Key (256-bit, Base64 encoded) â€” use instead of RSA
#shared_encryption_key=neEvmCDMRdEgive402Taji9I/vrrpqrjJ+qeAF4QRNc=


#####################################################
# TLS Transport Encryption
#####################################################
enable_encrypt_transport=true

# TLS Certificate - File Path (Option 1)
#tls_certificate=./vertex-cache-config/server/test_tls_certificate.pem
#tls_private_key=./vertex-cache-config/server/test_tls_private_key.pem

# TLS Certificate - Embedded Single Line (Option 2)
tls_certificate="-----BEGIN CERTIFICATE-----\nMIIDgDCCAmigAwIBAgIJAPjdssRy18IjMA0GCSqGSIb3DQEBDAUAMG4xEDAOBgNV\nBAYTB1Vua25vd24xEDAOBgNVBAgTB1Vua25vd24xEDAOBgNVBAcTB1Vua25vd24x\nEDAOBgNVBAoTB1Vua25vd24xEDAOBgNVBAsTB1Vua25vd24xEjAQBgNVBAMTCWxv\nY2FsaG9zdDAeFw0yNTA1MTgwMzU2NDdaFw0zNTA1MTYwMzU2NDdaMG4xEDAOBgNV\nBAYTB1Vua25vd24xEDAOBgNVBAgTB1Vua25vd24xEDAOBgNVBAcTB1Vua25vd24x\nEDAOBgNVBAoTB1Vua25vd24xEDAOBgNVBAsTB1Vua25vd24xEjAQBgNVBAMTCWxv\nY2FsaG9zdDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMHVT5HdQkUj\nIa3sYmLQUeOja7tKtAXi1cuhCLlrvgS2DKJa9cpkgi1dsKOjJmsTqo580e+jrpdQ\nJ+mTybdKoG6CZWEqfMizut48aTQoBteiLFSZ9J2/6nCXhxugA+aQ94lhkj3lJIHf\nlIZeIYHaPNXH9/K4oCODJ8P6MfeQjY1ZWbrcQ9PxHQhWV/60AfTuJRJ4T/HQmOqM\n6IcYz2t7iviIYvQq37A+wr1ClgxlfuT6JScEA8J34GivskB2p/MEn8E8y/durORz\naaF5RBpnsc+fzVwQuvkth993rnDemdrcvTF1bdF5t88Zt5FiPD4qDF+pKloHNMRQ\nDXBYb9Wf/t8CAwEAAaMhMB8wHQYDVR0OBBYEFOYQaTvkoqgLjRhCYBMrwLqrVfJo\nMA0GCSqGSIb3DQEBDAUAA4IBAQCVBHT1uqtm72g085JuWdjBoBDa6bJD3Wj3L+GH\nJaKOF26wQmXtLV0KraH3t3SUxWOM865OcbOkIiSUjMIgqmmFh1quoF4NMBa0wye8\nJguLk6Qpffd+YXfzddxi33jdCUWgyqcTKq7bfB5DbMP4U5yVxnlXwKB0dxkaEFSx\niAUrhcZ1+iYjelrERk8MPj9FQIzQ8FwwF4oB8ShNDhDNWCOVbSdLXwMOLH84u/ul\nv/I4U/5/mqGGTtwNyyzFS0GYgrYua4H7Aqer2g4wv8PUYwkaAfQ49CWm9kFQxgD4\nqwwA44GZv7zAa89WHNpbIMAA8keexZkPzJBIQNSKy2d9dhcP\n-----END CERTIFICATE-----"
tls_private_key="-----BEGIN PRIVATE KEY-----\nMIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQDB1U+R3UJFIyGt\n7GJi0FHjo2u7SrQF4tXLoQi5a74EtgyiWvXKZIItXbCjoyZrE6qOfNHvo66XUCfp\nk8m3SqBugmVhKnzIs7rePGk0KAbXoixUmfSdv+pwl4cboAPmkPeJYZI95SSB35SG\nXiGB2jzVx/fyuKAjgyfD+jH3kI2NWVm63EPT8R0IVlf+tAH07iUSeE/x0JjqjOiH\nGM9re4r4iGL0Kt+wPsK9QpYMZX7k+iUnBAPCd+Bor7JAdqfzBJ/BPMv3bqzkc2mh\neUQaZ7HPn81cELr5LYffd65w3pna3L0xdW3RebfPGbeRYjw+KgxfqSpaBzTEUA1w\nWG/Vn/7fAgMBAAECggEAE8Ztm+3iX8esnSAOOOg+9TChgkCmACm7HSS8jUo9icvW\n8HjDixauT0Q34WH46UNe4F2XVNGys2jv7CfHPxtuewfI9weiJnRrtAD0IhLpVnY1\npptJtmReMzF1DRpJ+5Zo+AuhI2PC0eXbsx+xtHFC8/PhoHzkiEBOaMiYRhppzp8/\nEGcvaurl2lnxCSP+GVMZ2kySvRNG0XOrNyhbL2jZzLCQCAEfuHIWweXbXgH2t+Rq\nZVAiXFxX3wEKw/bBsnGCv79fAM1hbKZaOJIUkxGTE4yBDQ8SghTYUPnxypWVjm9m\nbPzUhk4fZNI8GR0VYW2eUv9kimMfJl43lZTBEch3PQKBgQDhYl+NUN15DCJYyeBp\nG4ekUYYg2TYVF2hkxBEJgcHLN+BiOLbcnRPhjKDADiOmBDvQ/xRJjMqhJmxuMMd1\nYKWom8nm0La7BzivhH6NR601vg1mgbbnkWkQoury2Bx2rCnE/7HtZAQWJJFCc2Th\nvpZHwewGi6t7rquoQ/S+h+3tUwKBgQDcKcQoqe1NzVVtOUra4+jAgCwEPWDtbvmu\n4xzrpFvt1KQ5GJOQw2u+mOYX4Rg4LqkrgsrwT5IeGDGmQcvPyZSoL8AER3WQV+zs\noXuMONffG83xMqasdESJZFIsfoKjRJAvDXnarhPf5ilkNmDor9H1DWxLFDB87zmp\nr0vBvyxqxQKBgQC6ud2gHpbeaocqOFaLvhsqr8AIBu0fnD0I/sd+sNn1m11zArm9\nHQYTn4aulwhBytAj3rDYHqThzguXXyJgxKl6f1dOuywo11rHT2XpdrCyDbrcais2\nvunktpUgjJtIVmpko9KtcmdQUQtnmmLCBDxNRwRch+qSlavxxBtInyUnsQKBgQCl\nzGZG4UEuWDW/HWg702qSnXOIddiqteoeRDahVpNMVdiejt2CJUjcrjSJQyCEHs+T\nTtoZgzLcqweo1t/vyTTEO8F094OXgj+QLEPoY15eTIgY3jYapSx/8ybXDya+YYHb\njWB4yKN698+wAiuUz+Njkgo9uCST0WwxVyvL6nY+qQKBgQDhA1pBHEHwRufCV+vx\n4wEWo+f2di/yiu8NMDlHcYrPuBC5tr+v9Nvwz/Jg85QoFAW3tgbPOGUgMi821wtr\nkGGb+BxFnLB93E3/aOHTubrGCSze0UgzjGOVmn3U3M13iUDBd822ZrAr8X45wxqc\nd1Zt6EZp3bidyKttfpcJMurz/Q==\n-----END PRIVATE KEY-----"

# TLS Keystore Password
tls_keystore_password="hx8blPjyiBRF/DxNjEVIU7mVk2GzfT2KjxF9hPcT/JE="




#####################################################
# Optional Modules, underneath this section are the
#  specific settings for each of the Modules
#####################################################


#####################################################
# Auth Clients & Tenant Module, when enable_auth=true
#####################################################
enable_auth=true

enable_tenant_key_prefix=true

auth_client_1=console-client:tenant-system:ADMIN:fd8e2160-e55e-4e7e-9845-2d6f73f5349f

# SDK clients (Tenant A)
auth_client_2=sdk-client-java:tenant-a:READ_WRITE:ea143c4a-1426-4d43-b5be-f0ecffe4a6c7
auth_client_3=sdk-client-cplusplus:tenant-a:READ_WRITE:5cf685d2-f30d-4425-8fa4-90cf39c8d7ed
auth_client_4=sdk-client-csharp:tenant-a:READ_WRITE:78116067-0200-4838-8718-31ab574bfa5c
auth_client_5=sdk-client-elixir:tenant-a:READ_WRITE:c4466a14-fd53-44a4-9dbb-730bb3b16274
auth_client_6=sdk-client-go:tenant-a:READ_WRITE:6612f3e2-c7ef-4d7f-a0d6-eb665af84f0c

# SDK clients (Tenant B)
auth_client_7=sdk-client-kotlin:tenant-b:READ_WRITE:5f38c3a4-753b-4339-a2a5-06b2446b7ae1
auth_client_8=sdk-client-node:tenant-b:READ_WRITE:2c9962b5-559f-450a-a411-71859055fdc0
auth_client_9=sdk-client-php:tenant-b:READ_WRITE:cb7d114f-dfab-4acb-b3ab-634638abb3f6
auth_client_10=sdk-client-ruby:tenant-b:READ_WRITE:abf024d1-f3fb-4cc8-ae92-549e87988155
auth_client_11=sdk-client-rust:tenant-b:READ_WRITE:635006e5-65d4-4cff-a0d4-197ecf2b3be3
auth_client_12=sdk-client-python:tenant-b:READ_ONLY:21d88d95-7c82-48c6-95a9-830648f3c28c

# REST clients (Tenant C)
auth_client_13=restapi-client-read:tenant-c:REST_API_READ_ONLY:d25b055e-c41e-4a07-9eba-39dcddd54c64
auth_client_14=restapi-client-write:tenant-c:REST_API_READ_WRITE:c854eacc-be0f-4383-a733-a2cca6495bce

#####################################################
# Rate Limiting Module, when enable_rate_limit=true
#####################################################
enable_rate_limit=true

rate_limit_tokens_per_second=1000
rate_limit_burst=2000



#####################################################
# Metics Module, when enable_metric=true
#####################################################
enable_metric=true


#####################################################
# REST API Module, when enable_rest_api=true
#####################################################
enable_rest_api=true
rest_api_port=8080
rest_api_port_tls=8443
rest_api_require_tls=true
rest_api_require_auth=true
rest_api_token_header=Authorization
rest_api_allow_cors=false

#####################################################
# Admin Commands Module, when enable_admin_commands=true
#####################################################
enable_admin_commands=true


#####################################################
# Alert Module, when enable_alerting=true
#####################################################
enable_alerting=false
alert_webhook_url=https://localhost/alert_callback_change_me
alert_webhook_signing_enabled=true
alert_webhook_signing_secret=790270bdcdd682ecef06dbac697cfb34ce74a3fed2d5aa9a0204d4091443a3f4
alert_webhook_timeout=2000
alert_webhook_retry_count=3


#####################################################
# Smart Module, when enable_smart=true
#####################################################
enable_smart=false
enable_smart_index_cleanup=true
enable_smart_hotkey_watcher_alert=true
enable_smart_key_churn_alert=true
enable_smart_unauthorized_access_alert=true
enable_smart_hotkey_anomaly_alert=true
